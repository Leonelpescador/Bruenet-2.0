{% extends "base.html" %}

{% block content %}
  <div class="container my-5">
    <h2 class="text-center mb-4">Consulta de Caja</h2>
    
    {% if messages %}
      <div class="container mt-4">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
    
    <h3>Resumen de Caja</h3>
    <p><strong>Monto Total:</strong> ${{ monto_total }}</p>
    
    <h3>Pagos Realizados</h3>
    
    {% if pagos %}
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID de Pago</th>
            <th>Monto</th>
            <th>Fecha y Hora</th>
            <th>Descripci√≥n</th>
          </tr>
        </thead>
        <tbody>
          {% for pago in pagos %}
          <tr>
            <td>{{ pago.id }}</td>
            <td>${{ pago.monto }}</td>
            <td>{{ pago.fecha_hora }}</td>
            <td>{{ pago.descripcion }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No se han registrado pagos en esta caja.</p>
    {% endif %}
  </div>
{% endblock %}
